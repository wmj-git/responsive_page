<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,
    initial-scale=1.0,
    maximum-scale=1.0,
    user-scalable=0">
    <link rel="stylesheet" href="style/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="style/common.css">
    <link rel="stylesheet" href="style/login.css">
    <script src="js/jquery-3.2.1.min.js" type="text/javascript"></script>
    <script src="js/bootstrap.min.js" type="text/javascript"></script>
    <script src="js/jquery.cookie.js"></script>
    <script src="js/layer/layer.js"></script>

    <script src="js/service/ajax.js"></script>

    <title>余生婚恋</title>
</head>
<body>

<div class="login_box">
    <div class="nav_box">
        <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light" id="nav">
            <div class="container login_nav">
                <a class="navbar-brand" href="#">
                    <img class="logo_img " src="image/index_page/logo.png">
                </a>
                <div class="regist">
                    <div class="nav-item nav-link">
                        <span> 单身还没账号？
                        <a class="login_btn" href="register.html">立即注册</a></span>
                    </div>
                </div>
            </div>
        </nav>
    </div>
    <div class="login-form">
        <div class="container">
            <div id="login_header" class="login_header col-md-5">
                <span class="circle"><img src="image/login_regist/logo_login.png" class="login_logo"></span>
                <h5 class="text-center">登录余生婚恋</h5>
                <form class="form-horizontal" role="form" novalidate id="form-login" action="login.html">
                    <div class="form-group">
                        <div class="col-md-12">
                            <input type="text" name="phone" class="form-control" placeholder="请输入手机" required
                                   pattern="^1[3456789][0-9]{9}$">
                            <div class="invalid-feedback">请输入合法手机号码！</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-12">
                            <input type="password" name="password" class="form-control" placeholder="请输入密码 " required
                                   pattern="[A-Za-z0-9]{8,20}">
                            <div class="invalid-feedback">密码长度至少为8位,只能是大小写字母或数字！</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-12">
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" id="remember" name="remember">记住密码
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-12">
                            <!--<input type="button" class="form-control btn btn-info" value="立即登录">-->
                            <button class="btn btn-info" id="register">立即登录</button>
                        </div>
                    </div>
                    <div class="form-group form_register">
                        <a href="register.html" class="register">免费注册</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div id="footer"></div>
</div>
<script>
    $(function () {
        $("#footer").load("page/include/footer.html");
        let top = $("#nav").outerHeight();
        $(".login-form").css("top", top + "px");

        /* if ($.cookie("user") != null && $.cookie("pwd") != null) {
             $("input[name='phone']").val($.cookie("user"));
             $("input[name='password']").val($.cookie("pwd"))
         }*/
        $("#remember").on("change", function () {
            var change = $("input[type='checkbox']").is(':checked'); //checkbox选中判断
            if (change) {
                /*  $.cookie("user", $("input:text").val(), {expires: 1});
                  $.cookie("pwd", $("input:password").val(), {expires: 1});*/

            } else {
                /* $.cookie("user", null);
                 $.cookie("pwd", null);*/

            }
        });
        $("#form-login").submit(function (event) {
            if ($(this)[0].checkValidity() === false) {
                event.preventDefault();// 阻止提交表单
                event.stopPropagation();
            }
            $(this).addClass("was-validated");

            submitAjax('#form-login');
            return false;
           /* let _phone = $("input[name='phone']").val();
            let _pwd = $("input[name='password']").val();
            if (_phone !== undefined && _pwd !== undefined) {
                console.log('提交表单');
                window.location.href = "index.html?phone=" + _phone;
            }*/

        });
    });
/*

    function loginFn() {
        let phone = $("input[name='phone']").val();
        let pwd = $("input[name='password']").val();
        let reg = /^1[3456789]\d{9}$/;
        let res = reg.test(phone);
        if (phone == "") {
            layer.msg("手机号不能为空");
        } else if (pwd == "") {
            layer.msg("密码不能为空");
        } else if (res) {
            window.location.href = "index.html?phone=" + phone;
        } else {
            layer.msg("请填写合法手机号");
        }
    }
*/

</script>
</body>
</html>