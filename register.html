<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,
    initial-scale=1.0,
    maximum-scale=1.0,
    user-scalable=0">
    <link rel="stylesheet" href="style/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="style/common.css">
    <link rel="stylesheet" href="style/register.css">
    <script src="js/jquery-3.2.1.min.js" type="text/javascript"></script>
    <script src="js/bootstrap.min.js" type="text/javascript"></script>

    <script src="js/layer/layer.js"></script>
    <script src="js/datapicker/distpicker.data.js"></script>
    <script src="js/datapicker/distpicker.js"></script>
    <script src="js/jquery.time.js"></script>
    <script src="js/birthday.js"></script>
    <title>余生婚恋</title>

</head>
<body>

<div class="register_box">
    <div class="nav_box">
        <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light" id="nav">
            <div class="container register_nav">
                <a class="navbar-brand" href="#">
                    <img class="logo_img " src="image/index_page/logo.png">
                </a>
                <div class="register_btn">
                    <div class="nav-item nav-link">
                        <button onclick="window.location.href ='login.html'">登录</button>
                    </div>
                </div>
            </div>
        </nav>
    </div>
    <div class="register_form">
        <div class="container">
            <div class="register-content row">
                <div class="col-md-8 register_left">
                    <form role="form" novalidate id="form-register">
                        <p class="register_item">编辑征婚资料</p>
                        <div class="form-group">
                            <div class="col-md-12" id="sex">
                                <label>我是一位</label>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="sexRadioOptions"
                                           id="inlineRadio1" value="man" checked required>
                                    <label class="form-check-label" for="inlineRadio1">先生</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="sexRadioOptions"
                                           id="inlineRadio2" value="woman">
                                    <label class="form-check-label" for="inlineRadio2">女士</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-12" id="birthday">
                                <label>我的生日</label>
                                <div class="row birth_width">
                                    <select class="sel_year" name="YYYY" id="year" required>
                                        <option value="">请选择</option>
                                    </select>
                                    <span>年</span>
                                    <select class="sel_month" name="MM" id="month">
                                        <option value="">请选择</option>
                                    </select>
                                    <span>月</span>
                                    <select class="sel_day" name="DD" id="day">
                                        <option value="">请选择</option>
                                    </select>
                                    <span>日</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-12">
                                <label>工作地区</label>
                                <div id="distPicker" class="row distPicker">
                                    <select class="" id="province10" required></select>
                                    <select class="" id="city10"></select>
                                    <select class="" id="district10"></select>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-12" id="marriedStatus">
                                <label>婚姻状态</label>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="inlineRadioOptions"
                                           id="marriage1" value="option1" checked required>
                                    <label class="form-check-label" for="marriage1">未婚</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="inlineRadioOptions"
                                           id="marriage2" value="option2">
                                    <label class="form-check-label" for="marriage2">离婚</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="inlineRadioOptions"
                                           id="marriage3" value="option3">
                                    <label class="form-check-label" for="marriage3">丧偶</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-12 row">
                                <label>我的身高</label>
                                <div class="col-md-8 padding-none register_rules">
                                    <span id="show" class="register_tooltip">160cm</span>
                                    <input type="range" class="form-control-range" id="formControlRange"
                                           max="220" min="120" oninput="mark(event)" name="formControlRange">
                                    <img src="image/login_regist/rules.png" class="rules_img">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-12 row">
                                <label class="line-height">我的学历</label>
                                <div class="col-md-4 padding-none">
                                    <select class="custom-select" id="inlineFormCustomSelect"
                                            name="inlineFormCustomSelect">
                                        <option value="1">博士</option>
                                        <option value="2">硕士</option>
                                        <option value="3">研究生</option>
                                        <option selected value="4">本科</option>
                                        <option value="4">大专</option>
                                        <option value="5">高中</option>
                                        <option value="7">初中</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-12 row">
                                <label class="line-height">我的月收入</label>
                                <div class="col-md-4 padding-none">
                                    <select class="custom-select" name="incomeSelect" id="incomeSelect">
                                        <option value="1">20k以上</option>
                                        <option value="2">20k</option>
                                        <option value="3">15k</option>
                                        <option value="3">10k</option>
                                        <option selected value="3">5k</option>
                                        <option value="3">3k以下</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <p class="register_item">注册账户
                            <span class="register_info">今天已有<span>26536</span>位新会员加入<span>余生婚恋网</span></span></p>

                        <div class="form-group">
                            <div class="col-md-12 row">
                                <label class="line-height">我的手机</label>
                                <div class="col-md-6 padding-none">
                                    <input type="tel" class="form-control" placeholder="请输入手机号码" name="telephone"
                                           required pattern="^1[3456789][0-9]{9}$">
                                    <div class="invalid-feedback">输入的手机号码不合法！</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-12 row">
                                <label class="line-height">设置密码</label>
                                <div class="col-md-6 padding-none">
                                    <input type="password" class="form-control" placeholder="设置密码(8-20位，包含字母和数字)"
                                           name="password"
                                           required pattern="[A-Za-z0-9]{8,20}">
                                    <div class="invalid-feedback">密码长度至少为8位,只能是大小写字母或数字！</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-10 register_margin">
                                <input type="checkbox" id="checked_service" name="service"
                                       checked>已阅读和同意<a>余生婚恋网的服务协议</a>和<a>个人信息保护政策</a>并同意将本人提供之信息
                                由珍爱网提供线上/线下服务使用
                            </div>

                        </div>
                        <div class="form-group">
                            <div class="col-md-10 register_margin">
                                <button class="register_btn" id="register">同意协议并注册</button>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="col-md-4 register_right">
                    <img src="image/login_regist/register02.png" class="img-fluid register_title">
                    <div class="register_copy">
                        <p>于千万人之中</p>
                        <p>与你遇见</p>
                        <p>与千万年之中</p>
                        <p>在时间无涯的荒野里</p>
                        <p>没有早一步</p>
                        <p>也没有晚一步</p>
                        <p>我们</p>
                        <p>刚巧遇上.......</p>
                    </div>
                    <img src="image/login_regist/register01.png" class="img-fluid register_img">
                </div>
            </div>
        </div>
    </div>
    <div id="footer"></div>
</div>

<script>
    var _income;
    var _edu;
    var _bodyH;
    var _sex;
    var _birth;
    var _married;
    $(function () {

        let _body = $('#show').text();
        _bodyH = _body.substr(0, _body.length - 2); // 身高默认值


        _sex = $('#sex input:radio:checked').val();// 性别默认值
        _married = $("#marriedStatus input:radio:checked").val();


        let birth = $("#birthday select option:selected").text();
        console.log('birth',birth);

        $("#formControlRange").val(160);
        $("#footer").load("page/include/footer.html");
        let top = $("#nav").outerHeight();
        $(".register_form").css("top", top + "px");

        $("#distPicker").distpicker({
            autoSelect: false
        });
        _income = $("#incomeSelect option:selected").text(); // 收入默认值
        let obj = document.getElementById("incomeSelect");
        obj.onchange = function () {
            _income = $("#incomeSelect option:selected").text();
        }

        _edu = $("#inlineFormCustomSelect option:selected").text(); // 学历默认值
        let _inlineFormCustomSelect = document.getElementById("inlineFormCustomSelect");
        _inlineFormCustomSelect.onchange = function () {
            _edu = $("#inlineFormCustomSelect option:selected").text();
        }

        $(".register_btn").click(function () {
        });
        serviceFn();
        $("#form-register").submit(function (event) {
            if ($(this)[0].checkValidity() === false) {
                event.preventDefault();// 阻止提交表单
                event.stopPropagation();
            }
            $(this).addClass("was-validated");
            let _phone = $("input[name='telephone']").val();
            let _pwd = $("input[name='password']").val();
            console.log('提交表单', _phone, _pwd, _income, _edu, '_bodyH:', _bodyH,_sex,_married);
        });
    });

    function serviceFn() {
        $("input[name='service']").on("change", function () {
            var change = $("input[type='checkbox']").is(':checked'); //checkbox选中判断
            if (change) {
                $(".register_btn").removeAttr("disabled");
            } else {
                $(".register_btn").attr("disabled", "true");
            }
        });
    }

    function mark() {
        event || (event = window.event);
        $('input[type=range]').val(event.target.value);
        var info = ((event.target.value) - 120) / 100 * 100;
        $("#show").html(event.target.value + "cm");
        _bodyH = event.target.value;
        let left = (info * 4) / 20;
        $('input[type=range]').css('background-size', info + '% 100%');
        $(".register_tooltip").css("left", left + "rem");
    }
</script>
</body>
</html>